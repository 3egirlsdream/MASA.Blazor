@namespace Masa.Blazor.Presets
@typeparam TItem
@typeparam TKey
@inherits MTreeview<TItem, TKey>

Text: @_inputValue ActiveKeys: @System.Text.Json.JsonSerializer.Serialize(ActiveKeys)

<MAutocomplete TItem="TItem" TItemValue="TKey" TValue="List<TKey>"
               Items="FlattenedItems" ItemText="ItemText" ItemValue="ItemKey"
               Value="Value" ValueChanged="HandleValueChanged" Multiple
               Placeholder="@_inputValue"
               OnSearchInputUpdate="OnSearchInputUpdate"
               @ref="Autocomplete"
               OnBlur="HandleOnInputBlur">
    <MenuContent>
        <MTreeview
            TItem="TItem"
            TKey="TKey"
            Value="Value"
            ValueChanged="ValueChanged"
            Active="@ActiveKeys"
            Color="@Color"
            OpenAll="OpenAll"
            Rounded="Rounded"
            Search="@_treeViewSearch"
            Shaped="Shaped"
            Filter="@HandleOnFilter"
            SelectedColor="@SelectedColor"
            SelectionType="SelectionType"
            Dense="Dense"
            Hoverable="Hoverable"
            Activatable="Activatable"
            Selectable="@IsMultiple"
            Items="Items"
            ItemText="ItemText"
            ItemChildren="ItemChildren"
            ItemKey="ItemKey"
            ItemDisabled="ItemDisabled"
            OnActiveUpdate="HandleOnActiveUpdate">
        </MTreeview>
    </MenuContent>
</MAutocomplete>
